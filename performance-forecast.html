<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Performance Forecast - Kapruka Digital Marketing</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="icon" type="image/png" href="https://play-lh.googleusercontent.com/XPaIW4RsTkd8au1rBlcwAtdyynz9pZyPVn3QPK4gXbboroWxFI3hpVhn18IrIBrUtztj=w240-h480-rw">
  <style>
    body {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }

    .forecast-container {
      max-width: 1200px;
      margin: 30px auto;
      padding: 20px;
    }

    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      color: white;
      text-decoration: none;
      margin-bottom: 30px;
      font-size: 14px;
      transition: all 0.3s;
      background: rgba(255, 255, 255, 0.1);
      padding: 8px 16px;
      border-radius: 20px;
      backdrop-filter: blur(10px);
    }

    .back-link:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateX(-5px);
    }

    .forecast-header {
      text-align: center;
      margin-bottom: 40px;
      color: white;
    }

    .forecast-header h1 {
      font-size: 36px;
      color: white;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }

    .forecast-header p {
      color: rgba(255, 255, 255, 0.9);
      font-size: 16px;
    }

    .forecast-layout {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      margin-bottom: 30px;
    }

    @media (max-width: 768px) {
      .forecast-layout {
        grid-template-columns: 1fr;
      }
    }

    .forecast-card {
      background: white;
      border: none;
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .forecast-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 50px rgba(0, 0, 0, 0.3);
    }

    .forecast-card h2 {
      font-size: 20px;
      color: #667eea;
      margin-bottom: 25px;
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
    }

    .form-group {
      margin-bottom: 25px;
    }

    .form-group label {
      display: block;
      font-size: 14px;
      font-weight: 600;
      color: #333;
      margin-bottom: 10px;
    }

    .form-group select,
    .form-group input {
      width: 100%;
      padding: 14px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      font-size: 15px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      transition: all 0.3s;
      box-sizing: border-box;
    }

    .form-group select:focus,
    .form-group input:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
    }

    .form-group input[type="range"] {
      padding: 0;
      cursor: pointer;
      height: 8px;
      accent-color: #667eea;
    }

    .budget-display {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 10px;
      margin-top: 12px;
      color: white;
    }

    .budget-amount {
      font-size: 24px;
      font-weight: 700;
      color: white;
    }

    .objective-info {
      background: linear-gradient(135deg, #e0e7ff 0%, #f3e8ff 100%);
      border-left: 4px solid #667eea;
      padding: 15px;
      border-radius: 8px;
      font-size: 13px;
      color: #555;
      margin-top: 12px;
      line-height: 1.6;
    }

    .forecast-btn {
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 25px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .forecast-btn:hover:not(:disabled) {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
    }

    .forecast-btn:active:not(:disabled) {
      transform: translateY(-1px);
    }

    .forecast-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .results-section {
      margin-top: 30px;
    }

    .results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .result-card {
      background: white;
      border: 2px solid #e0e0e0;
      border-radius: 16px;
      padding: 25px;
      text-align: center;
      transition: all 0.3s;
    }

    .result-card:hover {
      border-color: #667eea;
      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.2);
      transform: translateY(-5px);
    }

    .result-card.primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-color: #667eea;
      color: white;
    }

    .result-label {
      font-size: 12px;
      color: #666;
      margin-bottom: 10px;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-weight: 600;
    }

    .result-card.primary .result-label {
      color: rgba(255, 255, 255, 0.9);
    }

    .result-value {
      font-size: 32px;
      font-weight: 700;
      color: #667eea;
      margin: 10px 0;
    }

    .result-card.primary .result-value {
      color: white;
    }

    .result-unit {
      font-size: 12px;
      color: #999;
      margin-top: 5px;
    }

    .result-card.primary .result-unit {
      color: rgba(255, 255, 255, 0.8);
    }

    .estimate-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      background: white;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .estimate-table th {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 16px;
      text-align: left;
      font-size: 13px;
      font-weight: 600;
      border: none;
    }

    .estimate-table td {
      padding: 16px;
      border-bottom: 1px solid #e0e0e0;
      font-size: 14px;
    }

    .estimate-table tr:last-child td {
      border-bottom: none;
    }

    .estimate-table tr:hover {
      background: #f8f9fa;
    }

    .estimate-value {
      font-weight: 700;
      color: #667eea;
      font-size: 15px;
    }

    .loading {
      text-align: center;
      padding: 50px;
      color: #666;
    }

    .loading-spinner {
      display: inline-block;
      width: 40px;
      height: 40px;
      border: 4px solid #f3f3f3;
      border-top: 4px solid #667eea;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 20px;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: #999;
    }

    .empty-state-icon {
      font-size: 64px;
      margin-bottom: 20px;
      opacity: 0.5;
    }

    .empty-state p {
      font-size: 15px;
      margin: 5px 0;
    }

    .error-message {
      background: linear-gradient(135deg, #fff3cd 0%, #ffe9c2 100%);
      border: 2px solid #ffc107;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      color: #856404;
      font-size: 14px;
      line-height: 1.6;
    }

    .success-message {
      background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
      border: 2px solid #28a745;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      color: #155724;
      font-size: 14px;
      line-height: 1.6;
    }

    .forecast-disclaimer {
      background: rgba(255, 255, 255, 0.95);
      border-left: 4px solid #667eea;
      padding: 20px;
      border-radius: 12px;
      margin-top: 30px;
      font-size: 13px;
      color: #666;
      line-height: 1.7;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .forecast-disclaimer strong {
      color: #667eea;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header" style="margin-bottom: 20px;">
      <div class="kapruka-logo">
        <img src="https://play-lh.googleusercontent.com/XPaIW4RsTkd8au1rBlcwAtdyynz9pZyPVn3QPK4gXbboroWxFI3hpVhn18IrIBrUtztj=w240-h480-rw" alt="Kapruka Logo">
      </div>
      <h1 style="color: white;">Digital Marketing Portal</h1>
      <p class="subtitle" style="color: rgba(255,255,255,0.9);">Kapruka Holdings PLC</p>
    </div>

    <div class="forecast-container">
      <a href="index.html" class="back-link">‚Üê Back to Dashboard</a>

      <div class="forecast-header">
        <h1>üöÄ Performance Forecast</h1>
        <p>AI-powered predictions based on your historical campaign data</p>
      </div>

      <div class="forecast-layout">
        <!-- Input Card -->
        <div class="forecast-card">
          <h2>üìã Campaign Settings</h2>

          <div class="form-group">
            <label for="objective">Campaign Objective *</label>
            <select id="objective" required>
              <option value="">Select an objective...</option>
              <option value="CONVERSIONS">üõí Conversions (Sales/Purchases)</option>
              <option value="LEAD_GENERATION">üìù Lead Generation (Leads)</option>
              <option value="ENGAGEMENT">‚ù§Ô∏è Engagement (Likes, Comments, Shares)</option>
              <option value="REACH">üë• Reach (Maximum People)</option>
              <option value="TRAFFIC">üîó Traffic (Website Clicks)</option>
            </select>
            <div id="objectiveInfo" class="objective-info" style="display: none;"></div>
          </div>

          <div class="form-group">
            <label for="budget">Campaign Budget (USD) *</label>
            <input type="number" id="budget" min="10" max="100000" step="5" placeholder="Enter budget amount" value="500" required>
            <div class="budget-display" id="budgetDisplay" style="display: none;">
              <span style="font-weight: 500;">Total Budget:</span>
              <span class="budget-amount">$<span id="budgetAmount">0</span></span>
            </div>
          </div>

          <div class="form-group">
            <label for="budgetSlider">Quick Budget Adjust</label>
            <input type="range" id="budgetSlider" min="10" max="100000" step="5" value="500">
          </div>

          <button class="forecast-btn" id="forecastBtn">üéØ Generate Forecast</button>
        </div>

        <!-- Results Card -->
        <div class="forecast-card">
          <h2>üìä Performance Estimates</h2>
          <div id="resultsContainer">
            <div class="empty-state">
              <div class="empty-state-icon">üìà</div>
              <p><strong>Select objective and budget</strong></p>
              <p>to see AI-powered performance estimates</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Detailed Results Table -->
      <div id="tableContainer" style="display: none;">
        <div class="forecast-card">
          <h2>üìã Detailed Performance Breakdown</h2>
          <table class="estimate-table" id="estimateTable">
            <thead>
              <tr>
                <th>Metric</th>
                <th>Estimate</th>
                <th>Expected Range</th>
              </tr>
            </thead>
            <tbody id="tableBody">
            </tbody>
          </table>
        </div>
      </div>

      <!-- Disclaimer -->
      <div class="forecast-disclaimer">
        <strong>üìå Important Note:</strong> These estimates are generated using machine learning algorithms trained on your historical Meta Ads performance data. Actual results may vary based on audience targeting, creative quality, seasonality, market conditions, and competition. Use these forecasts as a strategic planning tool, not as guaranteed outcomes. For best results, continuously optimize your campaigns based on real-time performance data.
      </div>
    </div>

    <!-- Footer -->
    <div class="footer" style="color: rgba(255,255,255,0.8);">
      Created by Fari Akthar - 207 | Kapruka Holdings PLC
    </div>
  </div>

  <script src="js/supabase.js"></script>
  <script src="js/performance-forecast.js"></script>
</body>
</html>
